@model Board
@{
    ViewData["Title"] = "Board";
}

@{
    int NumberOfDisplayedMessages = 7; // из конфига в будущем
}

@foreach (var tread in Model.Treads)
{
    if (tread.Posts.Count() > (NumberOfDisplayedMessages + 1))
    {
        int NumberOfOmittedMessages = tread.Posts.Count() - NumberOfDisplayedMessages;
        tread.Posts.RemoveRange(1, NumberOfOmittedMessages - 1);

        @await Html.PartialAsync("_Tread", new TreadModel()
        {
            Tread = tread,
            AboutOmittedPosts = $"Пропущено сообщений {NumberOfOmittedMessages}. Для просмотра нажмите \"Ответ\".",
            FirstDisplayedPost = NumberOfOmittedMessages + 1,
            IsShortcut = true
        })
    }
    else
    {
        @await Html.PartialAsync("_Tread", new TreadModel()
        {
            Tread = tread,
            AboutOmittedPosts = $"Пропущено сообщений {0}. Для просмотра нажмите \"Ответ\".",
            FirstDisplayedPost = 1 + 1,
            IsShortcut = true
        })
    }
    <br clear="left">
    <hr>
}