@model TreadViewModel

@{
    var openingPost = Model.Tread.Posts.First();
    Model.Tread.Posts.RemoveAt(0);
}

<div id="tread-@openingPost.Tread.Id" class="tread">
    @await Html.PartialAsync("_Post", new PostViewModel(openingPost, Model.IsShortcut, true))

    @if (Model.NumberOfOmittedPosts > 0)
    {
    <span class="omitted_posts">@($"Ommitted {@Model.NumberOfOmittedPosts} posts. To see click \"Reply\".")</span>
    }

    @foreach (var post in Model.Tread.Posts)
    {
        @await Html.PartialAsync("_Post", new PostViewModel(post, Model.IsShortcut, false))
    }
</div>



